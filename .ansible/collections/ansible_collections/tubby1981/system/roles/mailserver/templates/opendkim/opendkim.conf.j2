# OpenDKIM Configuration
# Generated by Ansible for {{ mailserver_hostname }}

# Logging
Syslog                  yes
SyslogSuccess           yes
LogWhy                  yes

# Common settings
Canonicalization        relaxed/simple
Mode                    sv
SubDomains              no
AutoRestart             yes
AutoRestartRate         10/1M

# IMPORTANT: Background must be 'no' when using systemd
Background              no

DNSTimeout              5

# Signing domain
Domain                  {{ mailserver_domain }}
Selector                {{ mailserver_opendkim_selector }}
KeyTable                /etc/opendkim/KeyTable
SigningTable            refile:/etc/opendkim/SigningTable
ExternalIgnoreList      refile:/etc/opendkim/TrustedHosts
InternalHosts           refile:/etc/opendkim/TrustedHosts

# Security
UMask                   002
UserID                  opendkim:opendkim
Socket                  inet:8891@localhost

# PID file location
PidFile                 /run/opendkim/opendkim.pid

# Performance
MinimumKeyBits          1024
