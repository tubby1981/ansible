; PHP-FPM pool configuration
; Generated by Ansible

[www]

; Pool user and group
user = {{ php_fpm_pool_user }}
group = {{ php_fpm_pool_group }}

; Socket configuration
listen = {{ php_fpm_listen }}
listen.owner = {{ php_fpm_listen_owner }}
listen.group = {{ php_fpm_listen_group }}
listen.mode = {{ php_fpm_listen_mode }}

; Process manager configuration
pm = {{ php_fpm_pm_mode }}
pm.max_children = {{ php_fpm_pm_max_children }}
pm.start_servers = {{ php_fpm_pm_start_servers }}
pm.min_spare_servers = {{ php_fpm_pm_min_spare_servers }}
pm.max_spare_servers = {{ php_fpm_pm_max_spare_servers }}
pm.max_requests = {{ php_fpm_pm_max_requests }}

; Status page
pm.status_path = /fpm-status

; Ping page
ping.path = /fpm-ping

; Logging
catch_workers_output = yes
php_admin_value[error_log] = /var/log/php{{ php_version }}-fpm-www.log
php_admin_flag[log_errors] = on

; Security
php_admin_value[disable_functions] = exec,passthru,shell_exec,system,proc_open,popen
php_admin_value[open_basedir] = /var/www:/tmp:/usr/share/php

; Environment variables
env[HOSTNAME] = $HOSTNAME
env[PATH] = /usr/local/bin:/usr/bin:/bin
env[TMP] = /tmp
env[TMPDIR] = /tmp
env[TEMP] = /tmp
